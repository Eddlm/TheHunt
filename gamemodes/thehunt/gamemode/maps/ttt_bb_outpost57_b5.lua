CombineFirstWave = 10
CombineSecondWave = 15
CombineThirdWave = 20
CombineFourthWave = 20
CombineFifthWave = 25
CombineInfiniteWave = 30

zonescovered ={
Vector(1935.205078, 625.436829, 1120.031250),
Vector(2236.750488, 475.820770, 224.031250),
Vector(911.433716, -20.226971, 64.031250),
Vector(-30.074236, -149.348740, 64.031250),
Vector(102.946640, -1539.652954, 64.031250),
Vector(-65.450783, -2819.200195, 64.031250),
Vector(876.799866, -2921.782471, 64.031250),
Vector(1880.604248, -2209.718018, 64.031250),
Vector(5979.264160, -1699.531128, 64.022552),
Vector(5832.196289, -380.019012, 64.031250),
Vector(5939.941406, 548.151184, 64.031250),
Vector(5576.354004, 1512.231079, 64.031250),
Vector(5594.351074, 2718.136719, 64.031250),
Vector(5937.556641, 3631.498291, 64.031250),
Vector(1942.211426, 3531.472412, 124.031250),
Vector(2304.032715, 2707.273438, 160.031250),
Vector(1542.703491, 2676.340088, 160.031250),
Vector(1538.109619, 1668.874146, 160.031250),
Vector(2316.109863, 1638.744385, 160.392059),
Vector(3470.309082, 1765.731689, 64.031250),
Vector(4782.808594, 1762.349609, 64.031250),
}

SPECIALITEMPLACES = {}

ITEMPLACES ={
Vector(5584.217285, 3801.779297, 57.753181),
Vector(5432.129395, 2308.182861, 55.326584),
Vector(5278.763672, 1360.868042, 67.865036),
Vector(400.714355, 316.347137, 68.803848),
Vector(5452.238281, -389.971619, 63.398735),
Vector(2797.953369, -3346.290039, 56.314011),
Vector(1316.627197, -3372.671387, 60.630215),
Vector(1202.603516, -2591.740479, 36.247574),
Vector(1214.694580, -2459.997070, 33.851250),
Vector(1202.930176, -3123.832275, 39.230427),
Vector(-91.709137, -1926.874512, 58.770119),
Vector(-887.924316, 58.292992, 59.438839),
Vector(-106.984421, -360.119507, 59.180744),
Vector(974.280090, -319.648590, 57.114319),
}

combinespawnzones = {
Vector(4096.670898, -6061.298828, 64.031250),
Vector(4105.712891, 8041.825684, 64.031250),
}

HELIPATHS ={
Vector(2640.937256, -6414.970215, 670.670776),
Vector(5535.632813, -6183.915039, 653.514709),
Vector(4111.796387, -6840.896973, 724.161133),
Vector(4122.371094, -4196.697266, 608.026184),
Vector(4134.478516, -2397.733398, 548.198486),
Vector(4151.655273, -1101.002197, 544.379761),
Vector(4181.132324, 2108.498047, 573.604126),
Vector(4189.002441, 3705.963135, 582.218567),
Vector(4180.946289, 5085.933594, 579.740356),
Vector(4173.632324, 6338.408691, 577.490845),
Vector(4168.595215, 7200.892090, 575.941650),
Vector(4161.062500, 8490.873047, 573.623169),
Vector(4100.707031, 746.033691, 675.494751),

Vector(3134.427734, -1745.272827, 500.137665),
Vector(3181.157715, 45.982780, 494.991333),
Vector(3183.970947, 1297.595093, 447.932434),
Vector(3187.239014, 2751.562256, 618.264954),
Vector(3190.439697, 4175.555176, 564.723511),
Vector(3193.168701, 5389.685059, 519.073547),
Vector(3196.638916, 6933.578613, 461.024841),
Vector(3040.000244, 8479.521484, 434.831757),
Vector(4984.562012, 8520.799805, 562.326477),

Vector(5020.595703, 6894.751953, 517.207153),
Vector(5027.974121, 5252.435547, 541.075256),
Vector(5036.194824, 3422.643066, 567.668335),
Vector(5042.899414, 1930.321899, 589.356873),
Vector(5050.412598, 258.014191, 613.661560),
Vector(5058.768066, -1601.771118, 640.690735),
Vector(5066.651855, -3356.563965, 666.194031),
Vector(5074.131348, -5021.375488, 690.389465),

Vector(7156.812988, -936.258911, 527.798584),
Vector(7158.187012, 68.740433, 527.798584),
Vector(7159.591797, 1096.239868, 527.798584),
Vector(7161.006836, 2131.239746, 527.798584),
Vector(7162.360352, 3121.239746, 527.798584),
Vector(7164.011230, 4328.739746, 527.798584),

Vector(2183.540283, -2110.898438, 517.330688),
Vector(2612.344238, -3518.860596, 445.084198),
Vector(640.271179, -3793.491211, 445.084198),
Vector(-604.181580, -3830.295410, 445.084198),
Vector(-2233.612305, -2225.175537, 540.119690),
Vector(-2253.464355, -950.328491, 540.119690),
Vector(-1648.502319, 753.010437, 571.684326),
Vector(375.935822, 758.909912, 413.315643),
Vector(1415.861572, 898.495361, 354.761078),
Vector(383.547058, -2133.523193, 503.644379),

Vector(379.011841, -967.397949, 495.432404),
Vector(-869.212341, 2625.258301, 544.808289),
Vector(-929.433777, 4303.206543, 587.393250),
Vector(1916.781128, 2255.553711, 564.778809),
Vector(1895.823608, 3118.852783, 481.880219),
Vector(891.305481, 3098.393799, 505.166901),


Vector(1824.416992, 4941.949219, 612.871033),

Vector(1153.156738, 1026.154907, 1206.616577),
Vector(2306.674805, 998.639771, 1201.390625),
Vector(1160.156982, -308.380188, 1167.871948),

Vector(2473.772705, -278.279938, 1205.697021),
Vector(2762.834961, 481.550049, 1225.123901),
Vector(1709.734863, 1431.063843, 1248.798096),
Vector(802.206787, 419.152649, 1232.492676),
Vector(1160.156982, -308.380188, 1167.871948),

}


function GM:PlayerInitialSpawn(ply)
timer.Simple(2, function() ply:PrintMessage(HUD_PRINTTALK, "[Overwatch]: Protection team alert, evidence of anticivil activity in this island.") end )
timer.Simple(4, function() ply:PrintMessage(HUD_PRINTTALK, "[Overwatch]: Code: assemble, plan, contain.") end )
timer.Simple(8, function() ply:PrintMessage(HUD_PRINTTALK, "[Overwatch]: A maximun of "..GetConVarNumber("h_combine_killed_to_win").." ground units are available for this mission.") end )

timer.Simple(15, function()ply:PrintMessage(HUD_PRINTTALK, "Type !help to see the game mechanics. ") end )
end


function MapSetup()
table.foreach(SPAWNPOINTS_TO_DELETE, function(key,value)
for k, v in pairs(ents.FindByClass(value)) do
print(v:GetClass())
v:Remove()
end
end)
table.foreach(HELIPATHS, function(key,value)
CreateHeliPath(value)
end)

SpawnItem("info_player_start", Vector(3055.548340, -4653.457520, -400.377014)+Vector(0,0,-45), Angle(-4,128,0))
SpawnItem("info_player_start", Vector(1249.424805, 3229.356445, 220.614929)+Vector(0,0,-45), Angle(17,33,0))
SpawnItem("info_player_start", Vector(6435.954590, 3495.815674, 64.031250)+Vector(0,0,-45), Angle(6,130,0))
SpawnItem("info_player_start", Vector(1575.380981, 415.066315, 64.031250)+Vector(0,0,-45), Angle(6,-21,0))
end


function firstwave()
Wave = 1
	if math.random (1,6) == 2 then 
		SpawnCombineShotgunner(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -10), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	elseif math.random (1,6) == 2 then 
		SpawnMetropoliceHard(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -10), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	else
		SpawnCombineS1(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -10), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	end
WAVESPAWN = 1
timer.Create( "coverzonesall", 0.4, 1, coverzones)
end

function secondwave()
Wave = 2
	if math.random (1,6) == 2 then 
		SpawnCombineShotgunner(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -10), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	elseif math.random (1,6) == 2 then 
		SpawnMetropoliceHard(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -10), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	else
		SpawnCombineS1(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -10), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	end
WAVESPAWN = 1
timer.Create( "coverzonesall", 0.4, 1, coverzones)
end

function thirdwave()
Wave = 3
	if math.random (1,6) == 2 then 
		SpawnCombineShotgunner(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -10), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	elseif math.random (1,6) == 2 then 
		SpawnCombineElite1(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -10), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	else
		SpawnCombineS2(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -50), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	end

WAVESPAWN = 1
timer.Create( "coverzonesall", 0.4, 1, coverzones)
end

function fourthwave()
Wave = 4
	if math.random (1,6) == 2 then 
		SpawnCombineShotgunnerElite(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -50), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	elseif math.random (1,6) == 2 then 
		SpawnCombineS2(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -50), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	else
		SpawnCombineElite1(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -50), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	end
WAVESPAWN = 1
timer.Create( "coverzonesall", 0.4, 1, coverzones)
end

function fifthwave()
Wave = 5
RPGCANSPAWN = 1
	if math.random (1,6) == 2 then 
		SpawnCombineShotgunnerElite(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -50), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	elseif math.random (1,6) == 2 then 
		SpawnCombineS2(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -50), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	else
		SpawnCombineElite2(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -50), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	end
local NumHelis = 0
for k, v in pairs(ents.FindByClass("npc_helicopter")) do
NumHelis=NumHelis+1
end

for k, v in pairs(ents.FindByClass("npc_combinegunship")) do
NumHelis=NumHelis+1
end
if NumHelis > 0 then print("too much helis")
else 
SpawnHeliA(table.Random(HELIPATHS), ""..table.Random(AirEnemies).."" ,0,1)
end
timer.Create( "coverzonesall", 0.4, 1, coverzones)
end

function infinitewave()
Wave = 6
	if math.random (1,6) == 2 then 
		SpawnCombineShotgunnerElite(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -50), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	elseif math.random (1,6) == 2 then 
		SpawnCombineS2(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -50), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	else
		SpawnCombineElite2(table.Random(combinespawnzones) + Vector(math.random(-5,5), math.random(-5,5), -50), table.Random(zonescovered) + Vector(math.random(-200,250), math.random(-200,250), 0))
	end

local NumHelis = 0
for k, v in pairs(ents.FindByClass("npc_helicopter")) do
NumHelis=NumHelis+1
end

for k, v in pairs(ents.FindByClass("npc_combinegunship")) do
NumHelis=NumHelis+1
end

if NumHelis > -1 then print("too much helis")
else 
--SpawnHeliA(table.Random(HELIPATHS), ""..table.Random(AirEnemies).."" ,0,1)
end
timer.Create( "coverzonesall", 0.4, 1, coverzones)
end